/* --- ПЕРЕМЕННЫЕ (СВЕТЛАЯ / ТЕМНАЯ) --- */
:root {
  --bg: #F2F2F7;
  --card: #FFFFFF;
  --text: #000000;
  --text-sec: #8E8E93;
  --island-bg: rgba(255,255,255,0.9);
  --border: rgba(0,0,0,0.05);
  --accent: #FF2D55;
}

[data-theme="dark"] {
  --bg: #000000;
  --card: #1C1C1E;
  --text: #FFFFFF;
  --text-sec: #8E8E93;
  --island-bg: rgba(28,28,30,0.9);
  --border: rgba(255,255,255,0.1);
}

/* --- БАЗА (ЗАПРЕТ КОПИРОВАНИЯ И ЗУМА) --- */
body {
  margin: 0;
  background: var(--bg);
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
  color: var(--text);
  overflow: hidden;
  
  /* ЗАПРЕТ ВЫДЕЛЕНИЯ И КОПИРОВАНИЯ */
  -webkit-user-select: none;
  user-select: none;
  -webkit-touch-callout: none;
  
  /* ЗАПРЕТ ЗУМА */
  touch-action: pan-y;
  transition: background 0.3s, color 0.3s;
}

img { pointer-events: none; } /* Чтобы картинки не перетаскивались */

.app-container {
  height: 100dvh;
  display: flex;
  flex-direction: column;
}

/* ШАПКА */
.fixed-header {
  padding: 12px 20px;
  display: flex; justify-content: space-between; align-items: center;
  z-index: 50; margin-top: 5px;
}
.header-logo { display: flex; align-items: center; gap: 10px; }
.app-logo { width: 28px; height: 28px; border-radius: 6px; }
.header-logo h1 { margin: 0; font-size: 22px; font-weight: 800; letter-spacing: -0.5px; }

.profile-bubble {
  width: 38px; height: 38px;
  background: var(--card); border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  overflow: hidden; cursor: pointer;
  color: var(--text);
}
.profile-bubble img { width: 100%; height: 100%; object-fit: cover; }

/* КОНТЕНТ */
.content-area { flex: 1; position: relative; }
.page {
  position: absolute; inset: 0;
  overflow-y: auto; padding: 10px 20px 120px 20px;
  scrollbar-width: none;
}

/* ГЛАВНАЯ */
.greeting-block { margin-bottom: 25px; }
.greeting-block h2 { margin: 10px 0 5px; font-size: 28px; }
.greeting-block p { color: var(--text-sec); margin: 0; }

/* КАРТОЧКА-ЗАГЛУШКА */
.empty-card {
  background: var(--card); border-radius: 24px;
  padding: 30px 20px; text-align: center;
  border: 2px dashed var(--border);
  display: flex; flex-direction: column; align-items: center;
  margin-bottom: 20px; transition: 0.3s;
}
.chibi-img { width: 100px; height: 100px; margin-bottom: 10px; object-fit: contain; }
.prem-img { width: 60px; height: 60px; object-fit: contain; }
.premium-icon-box { margin-bottom: 15px; }

.empty-text h3 { font-size: 18px; margin: 5px 0; color: var(--text); }
.empty-text p { font-size: 14px; color: var(--text-sec); margin: 0; }

/* ТИП ДНЯ */
.daily-tip {
  background: var(--card); padding: 16px; border-radius: 20px;
  display: flex; align-items: center; gap: 15px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.03);
}
.text b { display: block; font-size: 14px; margin-bottom: 3px; }
.text p { margin: 0; font-size: 13px; color: var(--text-sec); }

/* ОСТРОВ */
.nav-island {
  background: var(--island-bg); backdrop-filter: blur(25px);
  padding: 12px 32px; border-radius: 100px;
  display: flex; gap: 40px;
  box-shadow: 0 15px 40px rgba(0,0,0,0.12);
  border: 1px solid var(--border);
}
.nav-island button {
  background: none; border: none; padding: 0;
  color: #C7C7CC; transition: 0.3s;
}
.nav-island button.active { color: var(--text); transform: scale(1.1); }
.bottom-nav-container {
  position: fixed; bottom: 30px; left: 0; right: 0;
  display: flex; justify-content: center; pointer-events: none; z-index: 100;
}
.nav-island { pointer-events: auto; }

/* МОДАЛКА */
.backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 200; }
.modal {
  position: fixed; bottom: 0; left: 0; right: 0;
  background: var(--card); border-radius: 28px 28px 0 0;
  padding: 10px 20px 40px; z-index: 201; color: var(--text);
}
.bar { width: 40px; height: 4px; background: var(--border); border-radius: 10px; margin: 10px auto; background-color: var(--text-sec); opacity: 0.3; }

.profile-content { text-align: center; }
.big-avatar { width: 80px; height: 80px; background: var(--bg); border-radius: 50%; margin: 0 auto 15px; overflow: hidden; display: flex; align-items: center; justify-content: center; }
.big-avatar img { width: 100%; height: 100%; }

.id-row {
  display: inline-flex; align-items: center;
  background: var(--bg); padding: 6px 12px; border-radius: 8px;
  font-size: 13px; color: var(--text-sec); margin-bottom: 25px;
  cursor: pointer;
}

.menu-list, .settings-content { display: flex; flex-direction: column; gap: 10px; }
.menu-item {
  padding: 16px; background: var(--bg); border-radius: 16px;
  display: flex; align-items: center; gap: 12px;
  font-weight: 500; cursor: pointer;
}
.admin-item { color: #FF2D55; border: 1px solid rgba(255,45,85,0.2); background: rgba(255,45,85,0.05); }

/* ТОГГЛ (ПЕРЕКЛЮЧАТЕЛЬ) */
.toggle-switch {
  width: 40px; height: 24px; background: #E9E9EA;
  border-radius: 20px; margin-left: auto; position: relative; transition: 0.3s;
}
.toggle-switch::after {
  content: ''; position: absolute; top: 2px; left: 2px;
  width: 20px; height: 20px; background: white; border-radius: 50%;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2); transition: 0.3s;
}
[data-theme="dark"] .toggle-switch { background: #34C759; }
[data-active="true"]::after { transform: translateX(16px); }

.back-btn { margin-top: 15px; width: 100%; background: var(--text); color: var(--bg); border: none; padding: 15px; border-radius: 16px; font-weight: 600; font-size: 16px; }

/* МАРАФОНЫ & ЦЕНТР */
.center-page { display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; }
.placeholder-circle { width: 70px; height: 70px; background: rgba(255,45,85,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-bottom: 20px; }